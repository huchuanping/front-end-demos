webpackJsonp([26],{0:function(i,t,n){n(6),i.exports=n(188)},187:function(i,t,n){"use strict";function a(i,t,n){n=n||i,t=t||200;var a=[];return setInterval(function(){if(0!==a.length){var t=a.shift();i.apply(n,t)}},t),function(){a.push(arguments)}}var s=n(14),e={$el:s(".sign-in"),$totalNum:s("#total-num"),totalNum:0,ROW:5,COL:5,MAXNUM:20,DEFAULT_AVATAR_URL:"img/avatar/default.png",availableLocs:[],notAvailableLocs:[],isAnim:!1,addArr:[],delayTime:2e3,getRandomLoc:function(){if(0===this.availableLocs.length)return!1;var i=Math.floor(Math.random()*this.availableLocs.length),t=this.availableLocs.splice(i,1)[0];return this.notAvailableLocs.push(t),t},removeRandomItem:function(i,t){if(0!==this.notAvailableLocs.length){var n=this.notAvailableLocs.splice(0,1)[0],a=this;s("#item-y-"+n.y+"-x-"+n.x).fadeOut(600,function(){s(this).remove(),i.call(a,t),a.availableLocs.push(n)})}},addItem:function(i){this.makeAndAnimItem(i)},removeItems:function(i){var t=this.notAvailableLocs.splice(0,this.notAvailableLocs.length-this.MAXNUM+1);t.forEach(function(i){s("#item-y-"+i.y+"-x-"+i.x).remove()}),this.availableLocs=this.availableLocs.concat(t)},makeAndAnimItem:function(i){var t=this;this.notAvailableLocs.length+1>this.MAXNUM&&this.removeItems(),i=i||this.DEFAULT_AVATAR_URL;var n=this.getRandomLoc();if(n){var a=s("<span>");a.attr("src",i).attr("id","item-y-"+n.y+"-x-"+n.x),this.$el.append(a);var e=".row-{row}-col-{col}".replace("{row}",n.y).replace("{col}",n.x),o=s(e),l=o.position();a.addClass("sign-in__img"),a.fadeIn("slow",function(){var i=a.position(),n=l.left-i.left+"px",s=l.top-i.top+"px",e="translate3d("+n+","+s+",0)",o=t.itemWidth/a.width(),c=t.itemHeight/a.height(),h="scale("+o+","+c+")";a.fadeIn("slow",function(){a.addClass("sign-in__img--anim"),a.css({transform:[e,h].join(" ")})})}),this.$totalNum.text(++this.totalNum)}},makeItem:function(i,t){return'<span class="sign-in__line__item row-{row}-col-{col}"></span>'.replace("{row}",i).replace("{col}",t)},makeRow:function(i){var t=[];t.push('<div class="sign-in__line">');for(var n=0;n<this.COL;n++)t.push(this.makeItem(i,n));return t.push("</div>"),t.join("")},initAvailableLocs:function(){for(var i=0;i<this.ROW;i++)for(var t=0;t<this.COL;t++)this.availableLocs.push({x:t,y:i})},initView:function(){for(var i=[],t=0;t<this.ROW;t++)i.push(this.makeRow(t));this.$el.html(i.join(""))},init:function(){this.initView(),this.initAvailableLocs(),this.$rows=this.$el.find(".sign-in__line");var i=s(".sign-in__line__item");this.itemWidth=i.width(),this.itemHeight=i.height(),this.addItem=a(this.addItem,this.delayTime,this)}};e.init(),s(".add-btn").click(function(){e.addItem()}),s(".add-multi-btn").click(function(){for(var i=40;i>0;i--)e.addItem()})},188:function(i,t,n){"use strict";n(419),document.querySelector("#main").innerHTML=n(451),n(187)},419:function(i,t){},451:function(i,t){i.exports="<div class=wrap> <button class=add-btn>新增签到</button> <button class=add-multi-btn>新增40个签到</button> <p>已签到人数为 <span id=total-num>0</span></p> <div class=sign-in> <div class=sign-in__line> <span class=sign-in__line__item></span> </div> </div> </div>"}});